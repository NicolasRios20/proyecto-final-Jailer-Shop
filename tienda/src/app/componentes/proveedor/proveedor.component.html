
<app-nav-admi></app-nav-admi>
<body>
  
<section class="container mt-5 border rounded  shadow-lg p-3 mb-5 bg-white rounded"  >
    <h2 class="text-center pt-3">Proveedor</h2>
    <form [formGroup]="formulario" (ngSubmit)="crearProveedor(formulario.value)">
        <div class="form-group row pt-3">
          <label  class="col-sm-2 col-form-label ">Nombre</label>
          <div class="col-sm-10">
            <input type="text" class="form-control nombre " id="inputNombre" required formControlName="nombre_proveedor" placeholder="Nombre del proveedor">
          </div>
        </div>
        <div class="form-group row pt-3">
          <label  class="col-sm-2 col-form-label">Cedula</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="inputCedula" required formControlName="cedula" placeholder="N°. Cedula" >
          </div>
        </div>
        <div class="form-group row pt-3">
            <label  class="col-sm-2 col-form-label">Ubicación</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputUbicacion" required formControlName="ubicacion_p" placeholder="Ubicación del proveedor">
            </div>
          </div>
        <div class="form-group row pt-3">
            <label  class="col-sm-2 col-form-label ">Cuenta</label>
            <div class="col-sm-10">
              <input type="text" class="form-control cuenta" id="inputCuentaB" formControlName="cuenta_bancaria" placeholder="N°. Cuenta bancaria">
            </div>
        </div>
        <div class="d-flex flex-row justify-content-center p-4">
                
          <button type="submit" class="btn text-light me-5" style="background: #177987;">Guardar proveedor</button>
                           
        </div>
      </form>
</section>





<div class="card">
  <div class="card-body">
    <div class="container mb-5 mt-3">
      <div class="container">
        <div class="col-md-12">
          <div class="text-center">
            <h2 class="p-3">Proveedores</h2>
          </div>

        </div>

        <div class="row my-2 mx-1 justify-content-center">
          <table class="table table-striped table-borderless">
            <thead style="background-color:#177987 ;" class="text-white">
              <tr>
                <th scope="col">Cedula</th>
                <th scope="col">Nombre proveedor</th>
                <th scope="col">Cuenta bancaria</th>
                <th scope="col">Ubicación</th>
                <th scope="col">Editar</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let proveedor of proveedores">
                <th>{{proveedor.cedula}}</th>
                <td>{{proveedor.nombre_proveedor}}</td>
                <td>{{proveedor.cuenta_bancaria}}</td>
                <td>{{proveedor.ubicacion_p}}</td>

                <td><button class="fas fa-pencil" (click)="ConsultarProveedor(proveedor.id_proveedor)" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal" ></button></td>
              </tr>
            </tbody>

          </table>
        </div>
        
          

      </div>
    </div>
  </div>
</div>

<!-- Modal -->

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Editar Proveedor</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="formularioActualizacion" (ngSubmit)="actualizarProveedor(formularioActualizacion.value)">
          <div class="mb-3">
            <label for="nombre" class="col-form-label">Nombre proveedor:</label>
            <input type="text" class="form-control" formControlName="nombre_proveedor" id="nombre" >
          </div>
          <div class="mb-3">
            <label for="cuentaBancaria" class="col-form-label">Cuenta Bancaria:</label>
            <input type="text" class="form-control" formControlName="cuenta_bancaria" id="cuentaBancaria">
          </div>
          <div class="mb-3">
            <label for="ubicacion" class="col-form-label">Ubicación:</label>
            <input type="text" class="form-control" formControlName="ubicacion_p" id="ubicacion">
          </div>
          <div class="mb-3">
            <label for="cedula" class="col-form-label">Cedula:</label>
            <input type="text" class="form-control" formControlName="cedula" id="cedula" required>
          </div>
        </form>
      </div>
      <div class="modal-footer" *ngFor="let proveedor of proveedor">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="cerrar()">Cerrar</button>
        <button type="submit" (click)="actualizarProveedor(proveedor.id_proveedor)" value="actualizarProveedor()" class="btn btn-primary">Actualizar</button>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>